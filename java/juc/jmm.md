# 介绍

1. 所有线程共享变量都存储在物理主内存中
2. 每个线程都有自己独立的工作内存,保存使用到的共享内存的副本
3. 线程对共享变量的操作必须现在自己工作区域中后写回主内存,不能直接操作主内存
4. 线程无法访问其他线程独立内存,只能通过主内存交互

# happens-before(先行发生原则)

如果一个操作在另一个操作之前,那么第一个操作的执行结果将对第二个操作可见

有时候俩个操作的实际执行顺序对最终结果没有影响(俩个操作互不影响),那么不一定要按照原则来执行

1. **次序规则** 前面操作的结果可以被后面操作获取
2. **锁定规则** unlock()先行发生于lock()
3. **volatile变量规则** volatile变量写操作先行于读操作
4. **传递规则** A先于B,B先于C,那么A先于C
5. **线程启动规则** start()先于线程所有动作
6. **线程中断规则** interrupt()中断方法先于isInterrupted()检测是否中断方法
7. **线程终止规则** 线程所有操作先于终止检测
8. **对象终结规则** 对象初始化先于finalize()